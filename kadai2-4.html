<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>課題2-4</title>
    <style>
      /* 全体のフォントを指定する */
      body {
        font-family: Arial, sans-serif; /* フォントを設定する */
      }
      /* テーブルの幅と配置を設定する */
      table {
        width: 90%; /* テーブルの幅を90%に設定する */
        max-width: 600px; /* テーブルの最大幅を600pxに設定する */
        margin: auto; /* テーブルを中央に配置する */
        border-collapse: collapse; /* テーブルのセルの境界線を結合する */
      }
      /* テーブルのヘッダーとセルのスタイルを設定する */
      th,
      td {
        border: 1px solid black; /* 枠線を黒に設定する */
        padding: 0.5rem; /* 内側の余白を設定する */
        text-align: center; /* テキストを中央に配置する */
      }
      /* ボタンのスタイルを設定する */
      button {
        padding: 0.5rem 1rem; /* パディングを設定する */
      }
      /* 見出しのスタイルを設定する */
      h2 {
        font-size: 32px; /* フォントサイズを32pxに設定する */
        text-align: center; /* テキストを中央に配置する */
      }
    </style>
  </head>
  <body>
    <!-- ページの見出し -->
    <h2>課題 2-4</h2>

    <!-- URLを表示するためのテーブル -->
    <table>
      <tr>
        <th>リンク番号</th>
        <th>リンク先</th>
        <th>開く</th>
        <th>閉じる</th>
      </tr>

      <!-- JavaScriptコード -->
      <script type="text/javascript">
        // ウィンドウを管理するための配列を宣言する
        let windows = Array(5).fill(null);

        // URL とその名前を格納する配列を宣言する
        const urls = [
          { name: "Netflix", url: "https://www.netflix.com/jp/" },
          { name: "Yahoo Japan", url: "https://www.yahoo.co.jp/" },
          { name: "Bing", url: "https://www.bing.com/" },
          { name: "Amazon Japan", url: "https://www.amazon.co.jp/" },
          { name: "Rakuten", url: "https://www.rakuten.co.jp/" },
        ];

        // 新しいウィンドウを開く関数
        function createNewWindow(url, n) {
          // すでにウィンドウが開かれている場合は閉じる
          if (windows[n]) {
            windows[n].close();
          }

          // 新しいウィンドウを開く
          windows[n] = window.open(
            url,
            `_blank${n}`, // ウィンドウ名をユニークに設定する
            `width=400,height=600,scrollbars=yes` // ウィンドウのサイズとスクロールバーを設定する
          );
        }

        // ウィンドウを閉じる関数
        function closeWindow(n) {
          if (windows[n]) {
            windows[n].close(); // ウィンドウを閉じる
            windows[n] = null; // 配列の街頭要素を null に設定する
          }
        }

        // URL 配列をループしてテーブルの行を作成する
        for (let i = 0; i < urls.length; i++) {
          document.write(`
                    <tr>
                        <td>${i + 1}</td>
                        <td>${urls[i].name}</td>
                        <td><button onclick="createNewWindow('${
                          urls[i].url
                        }', ${i})">開く</button></td>
                        <td><button onclick="closeWindow(${i})">閉じる</button></td>
                    </tr>
                `);
        }
      </script>
    </table>
  </body>
</html>
